<!DOCTYPE html>
<html>
<head>
    <title>DOM Selector Test</title>
</head>
<body>
    <!-- Test HTML structure matching the dashboard -->
    <span class="info-box-number" data-metric="strategies">Loading...</span>
    <span class="info-box-number" data-metric="portfolio">Loading...</span>
    <span data-metric="cpu">CPU: Loading...</span>

    <div id="debug-output"></div>

    <script>
        function testSelectors() {
            var output = document.getElementById('debug-output');
            output.innerHTML = '<h3>DOM Selector Test Results:</h3>';

            // Test WRONG selectors (the ones that were broken)
            var wrongStrategies = document.querySelector('[data-metric="strategies"] .info-box-number');
            output.innerHTML += '<p>WRONG selector [data-metric="strategies"] .info-box-number: ' + 
                (wrongStrategies ? 'FOUND' : 'NOT FOUND') + '</p>';

            // Test CORRECT selectors (the ones we fixed)
            var correctStrategies = document.querySelector('[data-metric="strategies"]');
            output.innerHTML += '<p>CORRECT selector [data-metric="strategies"]: ' + 
                (correctStrategies ? 'FOUND' : 'NOT FOUND') + '</p>';

            var correctPortfolio = document.querySelector('[data-metric="portfolio"]');
            output.innerHTML += '<p>CORRECT selector [data-metric="portfolio"]: ' + 
                (correctPortfolio ? 'FOUND' : 'NOT FOUND') + '</p>';

            var correctCpu = document.querySelector('[data-metric="cpu"]');
            output.innerHTML += '<p>CORRECT selector [data-metric="cpu"]: ' + 
                (correctCpu ? 'FOUND' : 'NOT FOUND') + '</p>';

            // Test updating the elements
            if (correctStrategies) {
                correctStrategies.textContent = 'FIXED!';
                output.innerHTML += '<p>✅ Updated strategies element successfully</p>';
            }

            if (correctPortfolio) {
                correctPortfolio.textContent = 'FIXED!';
                output.innerHTML += '<p>✅ Updated portfolio element successfully</p>';
            }

            if (correctCpu) {
                correctCpu.textContent = 'CPU: FIXED!';
                output.innerHTML += '<p>✅ Updated CPU element successfully</p>';
            }
        }

        // Run test when page loads
        document.addEventListener('DOMContentLoaded', testSelectors);
    </script>
</body>
</html>