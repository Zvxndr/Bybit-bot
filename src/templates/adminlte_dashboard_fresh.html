<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Open Alpha Trading Dashboard</title>

    <!-- AdminLTE CSS -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/css/adminlte.min.css">
    
    <!-- Chart.js for Professional Visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.min.js"></script>
    
    <style>
        /* Glass Box Theme */
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: 'Source Sans Pro', sans-serif;
        }
        
        .content-wrapper {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }
        
        .dashboard-card {
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
        }
        
        .info-box {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            backdrop-filter: blur(8px);
        }
        
        .status-indicator {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .status-live { 
            background: linear-gradient(45deg, #10b981, #34d399); 
            color: white; 
            animation: pulse 2s infinite;
        }
        .status-paper { 
            background: linear-gradient(45deg, #f59e0b, #fbbf24); 
            color: white; 
        }
        .status-backtest { 
            background: linear-gradient(45deg, #3b82f6, #60a5fa); 
            color: white; 
        }
        .status-inactive { 
            background: linear-gradient(45deg, #6b7280, #9ca3af); 
            color: white; 
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        /* Content Section Management */
        .content-section {
            display: none;
            padding: 20px;
        }
        
        .content-section.active {
            display: block !important;
        }
        
        /* Navigation Enhancement */
        .nav-sidebar .nav-link {
            color: rgba(255, 255, 255, 0.8);
            border-radius: 8px;
            margin: 2px 8px;
            transition: all 0.3s ease;
        }
        
        .nav-sidebar .nav-link:hover,
        .nav-sidebar .nav-link.active {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            transform: translateX(5px);
        }
        
        /* AI Pipeline Enhancements */
        .pipeline-stage {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 20px;
            margin: 10px;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .pipeline-stage:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-5px);
        }
        
        .strategy-card {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }
        
        .strategy-card:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(5px);
        }
        
        .metric-value {
            font-size: 2em;
            font-weight: 700;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .gradient-text {
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 600;
        }
        
        /* Professional Chart Styling */
        .chart-container {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            backdrop-filter: blur(8px);
        }
    </style>
</head>

<body class="hold-transition sidebar-mini layout-fixed">
<div class="wrapper">

    <!-- Navbar -->
    <nav class="main-header navbar navbar-expand navbar-dark">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" data-widget="pushmenu" role="button"><i class="fas fa-bars"></i></a>
            </li>
        </ul>
        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <span class="navbar-text">
                    <i class="fas fa-chart-line mr-2"></i>
                    <span class="gradient-text">Open Alpha Trading System</span>
                </span>
            </li>
        </ul>
    </nav>

    <!-- Main Sidebar -->
    <aside class="main-sidebar sidebar-dark-primary elevation-4">
        <!-- Brand Logo -->
        <a href="#" class="brand-link" onclick="switchSection('overview'); return false;">
            <i class="fas fa-rocket brand-image"></i>
            <span class="brand-text font-weight-bold gradient-text">Open Alpha</span>
        </a>

        <!-- Sidebar -->
        <div class="sidebar">
            <!-- Sidebar Menu -->
            <nav class="mt-2">
                <ul class="nav nav-pills nav-sidebar flex-column" role="menu" data-accordion="false">
                    
                    <li class="nav-item">
                        <a class="nav-link active" data-section="overview" onclick="switchSection('overview'); return false;">
                            <i class="nav-icon fas fa-tachometer-alt"></i>
                            <p>System Overview</p>
                        </a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" data-section="ai-lab" onclick="switchSection('ai-lab'); return false;">
                            <i class="nav-icon fas fa-flask"></i>
                            <p>AI Strategy Lab</p>
                        </a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" data-section="trading" onclick="switchSection('trading'); return false;">
                            <i class="nav-icon fas fa-rocket"></i>
                            <p>Live Trading</p>
                        </a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" data-section="portfolio" onclick="switchSection('portfolio'); return false;">
                            <i class="nav-icon fas fa-briefcase"></i>
                            <p>Portfolio</p>
                        </a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" data-section="analytics" onclick="switchSection('analytics'); return false;">
                            <i class="nav-icon fas fa-chart-line"></i>
                            <p>Analytics</p>
                        </a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" data-section="risk" onclick="switchSection('risk'); return false;">
                            <i class="nav-icon fas fa-shield-alt"></i>
                            <p>Risk Management</p>
                        </a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" data-section="settings" onclick="switchSection('settings'); return false;">
                            <i class="nav-icon fas fa-cogs"></i>
                            <p>Settings</p>
                        </a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" data-section="debug" onclick="switchSection('debug'); return false;">
                            <i class="nav-icon fas fa-bug"></i>
                            <p>Debug Console</p>
                        </a>
                    </li>
                    
                </ul>
            </nav>
        </div>
    </aside>

    <!-- Content Wrapper -->
    <div class="content-wrapper">
        
        <!-- System Overview Section -->
        <div class="content-section active" id="section-overview">
            <div class="content-header">
                <div class="container-fluid">
                    <div class="row mb-2">
                        <div class="col-sm-6">
                            <h1 class="gradient-text">🎯 System Overview</h1>
                        </div>
                        <div class="col-sm-6">
                            <ol class="breadcrumb float-sm-right">
                                <li class="breadcrumb-item"><a href="#" onclick="switchSection('overview'); return false;">Dashboard</a></li>
                                <li class="breadcrumb-item active">Overview</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main content -->
            <section class="content">
                <div class="container-fluid">
                    
                    <!-- KPI Cards Row -->
                    <div class="row">
                        <div class="col-lg-3 col-6">
                            <div class="info-box">
                                <span class="info-box-icon bg-success"><i class="fas fa-wallet"></i></span>
                                <div class="info-box-content">
                                    <span class="info-box-text">Total Balance</span>
                                    <span class="info-box-number" id="total-balance">$0.00</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-lg-3 col-6">
                            <div class="info-box">
                                <span class="info-box-icon bg-info"><i class="fas fa-chart-line"></i></span>
                                <div class="info-box-content">
                                    <span class="info-box-text">Daily P&L</span>
                                    <span class="info-box-number" id="daily-pnl">$0.00</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-lg-3 col-6">
                            <div class="info-box">
                                <span class="info-box-icon bg-warning"><i class="fas fa-handshake"></i></span>
                                <div class="info-box-content">
                                    <span class="info-box-text">Open Positions</span>
                                    <span class="info-box-number" id="open-positions">0</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-lg-3 col-6">
                            <div class="info-box">
                                <span class="info-box-icon bg-danger"><i class="fas fa-robot"></i></span>
                                <div class="info-box-content">
                                    <span class="info-box-text">Active Strategies</span>
                                    <span class="info-box-number" id="active-strategies">0</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- System Status Row -->
                    <div class="row">
                        <div class="col-md-8">
                            <div class="dashboard-card">
                                <h3><i class="fas fa-chart-area mr-2"></i>Performance Overview</h3>
                                <div class="chart-container">
                                    <canvas id="performance-chart" width="400" height="200"></canvas>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-4">
                            <div class="dashboard-card">
                                <h3><i class="fas fa-server mr-2"></i>System Status</h3>
                                
                                <div class="mb-3">
                                    <label>API Connection:</label>
                                    <span class="status-indicator status-live" id="api-status">LIVE</span>
                                </div>
                                
                                <div class="mb-3">
                                    <label>Trading Engine:</label>
                                    <span class="status-indicator status-paper" id="trading-status">PAPER</span>
                                </div>
                                
                                <div class="mb-3">
                                    <label>AI Pipeline:</label>
                                    <span class="status-indicator status-live" id="ai-status">ACTIVE</span>
                                </div>
                                
                                <div class="mb-3">
                                    <label>Risk Monitor:</label>
                                    <span class="status-indicator status-live" id="risk-status">ACTIVE</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                </div>
            </section>
        </div>

        <!-- AI Strategy Lab Section -->
        <div class="content-section" id="section-ai-lab">
            <div class="content-header">
                <div class="container-fluid">
                    <div class="row mb-2">
                        <div class="col-sm-6">
                            <h1 class="gradient-text">🧪 AI Strategy Lab</h1>
                        </div>
                        <div class="col-sm-6">
                            <ol class="breadcrumb float-sm-right">
                                <li class="breadcrumb-item"><a href="#" onclick="switchSection('overview'); return false;">Dashboard</a></li>
                                <li class="breadcrumb-item active">AI Lab</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>

            <section class="content">
                <div class="container-fluid">
                    
                    <!-- AI Pipeline Overview -->
                    <div class="row">
                        <div class="col-md-4">
                            <div class="pipeline-stage">
                                <h4><i class="fas fa-vial text-primary"></i> Backtest</h4>
                                <div class="metric-value" id="backtest-count">0</div>
                                <p>Strategies Testing</p>
                                <span class="status-indicator status-backtest">RUNNING</span>
                            </div>
                        </div>
                        
                        <div class="col-md-4">
                            <div class="pipeline-stage">
                                <h4><i class="fas fa-paper-plane text-warning"></i> Paper Trading</h4>
                                <div class="metric-value" id="paper-count">0</div>
                                <p>Live Testing</p>
                                <span class="status-indicator status-paper">ACTIVE</span>
                            </div>
                        </div>
                        
                        <div class="col-md-4">
                            <div class="pipeline-stage">
                                <h4><i class="fas fa-rocket text-success"></i> Live Trading</h4>
                                <div class="metric-value" id="live-count">0</div>
                                <p>Production Ready</p>
                                <span class="status-indicator status-live">DEPLOYED</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Strategy Discovery -->
                    <div class="row">
                        <div class="col-md-12">
                            <div class="dashboard-card">
                                <h3><i class="fas fa-search mr-2"></i>Strategy Discovery & Management</h3>
                                
                                <div class="row">
                                    <div class="col-md-6">
                                        <h5>🔍 Discovery Pipeline</h5>
                                        <div class="strategy-card">
                                            <h6>Auto-Discovery Engine</h6>
                                            <p>Continuously scanning for new market patterns and opportunities.</p>
                                            <span class="status-indicator status-live">SCANNING</span>
                                        </div>
                                        
                                        <div class="strategy-card">
                                            <h6>ML Pattern Recognition</h6>
                                            <p>Advanced machine learning algorithms identifying profitable patterns.</p>
                                            <span class="status-indicator status-live">LEARNING</span>
                                        </div>
                                    </div>
                                    
                                    <div class="col-md-6">
                                        <h5>📈 Active Strategies</h5>
                                        <div id="active-strategies-list">
                                            <div class="strategy-card">
                                                <h6>Momentum Breakout v2.1</h6>
                                                <p>7-day performance: <span class="text-success">+12.4%</span></p>
                                                <span class="status-indicator status-live">LIVE</span>
                                            </div>
                                            
                                            <div class="strategy-card">
                                                <h6>Mean Reversion Alpha</h6>
                                                <p>Testing phase: <span class="text-warning">Day 3 of 7</span></p>
                                                <span class="status-indicator status-paper">PAPER</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                            </div>
                        </div>
                    </div>
                    
                </div>
            </section>
        </div>

        <!-- Trading Section -->
        <div class="content-section" id="section-trading">
            <div class="content-header">
                <div class="container-fluid">
                    <div class="row mb-2">
                        <div class="col-sm-6">
                            <h1 class="gradient-text">🚀 Live Trading Engine</h1>
                        </div>
                        <div class="col-sm-6">
                            <ol class="breadcrumb float-sm-right">
                                <li class="breadcrumb-item"><a href="#" onclick="switchSection('overview'); return false;">Dashboard</a></li>
                                <li class="breadcrumb-item active">Trading</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>

            <section class="content">
                <div class="container-fluid">
                    <div class="dashboard-card">
                        <h3>🎯 Trading Control Center</h3>
                        <p><span class="status-indicator status-paper">PAPER MODE</span></p>
                        <p>Advanced algorithmic trading system with real-time execution and risk management.</p>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <h5>📊 Recent Trades</h5>
                                <div class="table-responsive">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Time</th>
                                                <th>Symbol</th>
                                                <th>Side</th>
                                                <th>Size</th>
                                                <th>P&L</th>
                                            </tr>
                                        </thead>
                                        <tbody id="recent-trades">
                                            <tr>
                                                <td colspan="5" class="text-center">Loading trades...</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <h5>⚡ Trading Controls</h5>
                                <div class="mb-3">
                                    <button class="btn btn-success btn-lg" onclick="toggleTrading()">
                                        <i class="fas fa-play"></i> Start Trading
                                    </button>
                                    <button class="btn btn-danger btn-lg ml-2" onclick="emergencyStop()">
                                        <i class="fas fa-stop"></i> Emergency Stop
                                    </button>
                                </div>
                                
                                <div class="mb-3">
                                    <label>Trading Mode:</label>
                                    <select class="form-control" id="trading-mode">
                                        <option value="paper">Paper Trading</option>
                                        <option value="live">Live Trading</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Portfolio Section -->
        <div class="content-section" id="section-portfolio">
            <div class="content-header">
                <div class="container-fluid">
                    <div class="row mb-2">
                        <div class="col-sm-6">
                            <h1 class="gradient-text">💼 Portfolio Management</h1>
                        </div>
                    </div>
                </div>
            </div>

            <section class="content">
                <div class="container-fluid">
                    <div class="dashboard-card">
                        <h3>📈 Portfolio Overview</h3>
                        <p>Comprehensive portfolio tracking and management tools.</p>
                        
                        <div class="row">
                            <div class="col-md-12">
                                <div class="chart-container">
                                    <canvas id="portfolio-chart" width="400" height="200"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Analytics Section -->
        <div class="content-section" id="section-analytics">
            <div class="content-header">
                <div class="container-fluid">
                    <div class="row mb-2">
                        <div class="col-sm-6">
                            <h1 class="gradient-text">📊 Performance Analytics</h1>
                        </div>
                    </div>
                </div>
            </div>

            <section class="content">
                <div class="container-fluid">
                    <div class="dashboard-card">
                        <h3>📈 Analytics Dashboard</h3>
                        <p>Advanced performance metrics and analytics.</p>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <h5>Key Metrics</h5>
                                <ul class="list-unstyled">
                                    <li><strong>Sharpe Ratio:</strong> <span id="sharpe-ratio">0.00</span></li>
                                    <li><strong>Max Drawdown:</strong> <span id="max-drawdown">0.00%</span></li>
                                    <li><strong>Win Rate:</strong> <span id="win-rate">0.00%</span></li>
                                    <li><strong>Profit Factor:</strong> <span id="profit-factor">0.00</span></li>
                                </ul>
                            </div>
                            
                            <div class="col-md-6">
                                <div class="chart-container">
                                    <canvas id="analytics-chart" width="400" height="200"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Risk Management Section -->
        <div class="content-section" id="section-risk">
            <div class="content-header">
                <div class="container-fluid">
                    <div class="row mb-2">
                        <div class="col-sm-6">
                            <h1 class="gradient-text">🛡️ Risk Management</h1>
                        </div>
                    </div>
                </div>
            </div>

            <section class="content">
                <div class="container-fluid">
                    <div class="dashboard-card">
                        <h3>⚠️ Risk Controls</h3>
                        <p><span class="status-indicator status-live">ACTIVE</span></p>
                        <p>Advanced risk management system with real-time monitoring.</p>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <h5>Risk Limits</h5>
                                <div class="mb-3">
                                    <label>Daily Loss Limit:</label>
                                    <input type="number" class="form-control" id="daily-loss-limit" value="1000">
                                </div>
                                
                                <div class="mb-3">
                                    <label>Position Size Limit:</label>
                                    <input type="number" class="form-control" id="position-size-limit" value="10000">
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <h5>Current Risk Metrics</h5>
                                <ul class="list-unstyled">
                                    <li><strong>Portfolio VaR:</strong> <span id="portfolio-var">$0.00</span></li>
                                    <li><strong>Exposure:</strong> <span id="total-exposure">0%</span></li>
                                    <li><strong>Beta:</strong> <span id="portfolio-beta">0.00</span></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Settings Section -->
        <div class="content-section" id="section-settings">
            <div class="content-header">
                <div class="container-fluid">
                    <div class="row mb-2">
                        <div class="col-sm-6">
                            <h1 class="gradient-text">⚙️ System Settings</h1>
                        </div>
                    </div>
                </div>
            </div>

            <section class="content">
                <div class="container-fluid">
                    <div class="dashboard-card">
                        <h3>🔧 Configuration</h3>
                        <p>System configuration and API settings.</p>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <h5>API Configuration</h5>
                                <div class="mb-3">
                                    <label>API Key:</label>
                                    <input type="password" class="form-control" id="api-key" placeholder="Enter API Key">
                                </div>
                                
                                <div class="mb-3">
                                    <label>API Secret:</label>
                                    <input type="password" class="form-control" id="api-secret" placeholder="Enter API Secret">
                                </div>
                                
                                <button class="btn btn-primary" onclick="saveApiSettings()">
                                    <i class="fas fa-save"></i> Save Settings
                                </button>
                            </div>
                            
                            <div class="col-md-6">
                                <h5>Trading Preferences</h5>
                                <div class="mb-3">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="auto-trading">
                                        <label class="form-check-label" for="auto-trading">
                                            Enable Auto-Trading
                                        </label>
                                    </div>
                                </div>
                                
                                <div class="mb-3">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="email-alerts">
                                        <label class="form-check-label" for="email-alerts">
                                            Email Alerts
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Debug Console Section -->
        <div class="content-section" id="section-debug">
            <div class="content-header">
                <div class="container-fluid">
                    <div class="row mb-2">
                        <div class="col-sm-6">
                            <h1 class="gradient-text">🐛 Debug Console</h1>
                        </div>
                    </div>
                </div>
            </div>

            <section class="content">
                <div class="container-fluid">
                    <div class="dashboard-card">
                        <h3>🔍 System Debug</h3>
                        <p><span class="status-indicator status-live">ACTIVE</span></p>
                        <p>Real-time system monitoring and debugging tools.</p>
                        
                        <div class="row">
                            <div class="col-md-12">
                                <h5>Navigation Log</h5>
                                <div id="debug-log" style="background: #000; color: #0f0; padding: 15px; font-family: 'Courier New', monospace; max-height: 400px; overflow-y: auto; border-radius: 8px;">
                                    <div>🔧 NAVIGATION: System initialized</div>
                                    <div>✅ NAVIGATION: All sections loaded successfully</div>
                                    <div>🎯 NAVIGATION: Ready for interaction</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

    </div>
</div>

<!-- JavaScript Libraries -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.0/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/js/adminlte.min.js"></script>

<!-- FRESH NAVIGATION SYSTEM -->
<script>
console.log('🚀 FRESH DASHBOARD: Loading...');

// Simple, clean navigation function
function switchSection(sectionId) {
    console.log('🎯 Switching to:', sectionId);
    addDebugLog('🎯 NAVIGATION: Switching to ' + sectionId);
    
    // Hide all sections
    const sections = document.querySelectorAll('.content-section');
    sections.forEach(section => {
        section.classList.remove('active');
    });
    
    // Show target section
    const targetSection = document.getElementById('section-' + sectionId);
    if (targetSection) {
        targetSection.classList.add('active');
        console.log('✅ Section active:', sectionId);
        addDebugLog('✅ SUCCESS: Section ' + sectionId + ' is now active');
    } else {
        console.error('❌ Section not found:', sectionId);
        addDebugLog('❌ ERROR: Section not found: ' + sectionId);
    }
    
    // Update navigation
    updateNavigation(sectionId);
}

// Update navigation active state
function updateNavigation(activeSection) {
    // Remove active class from all nav links
    const navLinks = document.querySelectorAll('.nav-link');
    navLinks.forEach(link => {
        link.classList.remove('active');
    });
    
    // Add active class to current nav link
    const activeLink = document.querySelector(`[data-section="${activeSection}"]`);
    if (activeLink) {
        activeLink.classList.add('active');
        console.log('✅ Navigation updated for:', activeSection);
    }
}

// Add debug log entry
function addDebugLog(message) {
    const debugLog = document.getElementById('debug-log');
    if (debugLog) {
        const timestamp = new Date().toLocaleTimeString();
        const logEntry = document.createElement('div');
        logEntry.textContent = `${timestamp} - ${message}`;
        debugLog.appendChild(logEntry);
        debugLog.scrollTop = debugLog.scrollHeight;
    }
}

// Trading functions
function toggleTrading() {
    console.log('🎯 Toggle trading clicked');
    addDebugLog('🎯 TRADING: Toggle requested');
}

function emergencyStop() {
    console.log('🚨 Emergency stop activated');
    addDebugLog('🚨 EMERGENCY: Stop activated');
}

function saveApiSettings() {
    console.log('💾 Saving API settings');
    addDebugLog('💾 SETTINGS: API configuration saved');
}

// Initialize charts
function initializeCharts() {
    // Performance Chart
    const performanceCtx = document.getElementById('performance-chart');
    if (performanceCtx) {
        new Chart(performanceCtx, {
            type: 'line',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                datasets: [{
                    label: 'Portfolio Value',
                    data: [10000, 10500, 11200, 10800, 11500, 12000],
                    borderColor: 'rgb(102, 126, 234)',
                    backgroundColor: 'rgba(102, 126, 234, 0.1)',
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        labels: {
                            color: 'white'
                        }
                    }
                },
                scales: {
                    y: {
                        ticks: {
                            color: 'white'
                        },
                        grid: {
                            color: 'rgba(255, 255, 255, 0.1)'
                        }
                    },
                    x: {
                        ticks: {
                            color: 'white'
                        },
                        grid: {
                            color: 'rgba(255, 255, 255, 0.1)'
                        }
                    }
                }
            }
        });
    }
    
    // Portfolio Chart
    const portfolioCtx = document.getElementById('portfolio-chart');
    if (portfolioCtx) {
        new Chart(portfolioCtx, {
            type: 'doughnut',
            data: {
                labels: ['BTC', 'ETH', 'SOL', 'Cash'],
                datasets: [{
                    data: [40, 30, 20, 10],
                    backgroundColor: [
                        'rgba(255, 193, 7, 0.8)',
                        'rgba(102, 126, 234, 0.8)',
                        'rgba(16, 185, 129, 0.8)',
                        'rgba(108, 117, 125, 0.8)'
                    ]
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        labels: {
                            color: 'white'
                        }
                    }
                }
            }
        });
    }
    
    // Analytics Chart
    const analyticsCtx = document.getElementById('analytics-chart');
    if (analyticsCtx) {
        new Chart(analyticsCtx, {
            type: 'bar',
            data: {
                labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
                datasets: [{
                    label: 'Weekly Returns (%)',
                    data: [2.5, -1.2, 4.8, 3.1],
                    backgroundColor: [
                        'rgba(16, 185, 129, 0.8)',
                        'rgba(239, 68, 68, 0.8)',
                        'rgba(16, 185, 129, 0.8)',
                        'rgba(16, 185, 129, 0.8)'
                    ]
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        labels: {
                            color: 'white'
                        }
                    }
                },
                scales: {
                    y: {
                        ticks: {
                            color: 'white'
                        },
                        grid: {
                            color: 'rgba(255, 255, 255, 0.1)'
                        }
                    },
                    x: {
                        ticks: {
                            color: 'white'
                        },
                        grid: {
                            color: 'rgba(255, 255, 255, 0.1)'
                        }
                    }
                }
            }
        });
    }
}

// Document ready
$(document).ready(function() {
    console.log('🚀 FRESH DASHBOARD: Initialized successfully');
    addDebugLog('🚀 SYSTEM: Fresh dashboard loaded');
    
    // Initialize charts
    initializeCharts();
    
    // Start with overview section
    switchSection('overview');
    
    console.log('✅ All systems ready');
    addDebugLog('✅ READY: All systems operational');
});

</script>

</body>
</html>