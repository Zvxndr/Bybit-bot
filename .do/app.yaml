name: bybit-trading-bot-production
services:
- name: trading-bot
  source_dir: /
  github:
    repo: Zvxndr/Bybit-bot-fresh
    branch: main
    deploy_on_push: true
  
  dockerfile_path: Dockerfile
  
  instance_count: 1
  instance_size_slug: basic-xxs
  http_port: 8080
  
  health_check:
    http_path: /health
    failure_threshold: 10
    success_threshold: 2
    
  # üíæ CRITICAL: Persistent storage volumes to prevent data loss on deployment
  volumes:
  - name: trading-data
    mount_path: /app/data
    size: 5GB
  - name: trading-logs  
    mount_path: /app/logs
    size: 2GB
  - name: trading-config
    mount_path: /app/config
    size: 1GB
    
  envs:
  - key: NODE_ENV
    value: production
  - key: TRADING_ENVIRONMENT  
    value: production
  - key: DEBUG
    value: "false"
  - key: PYTHONPATH
    value: /app
  - key: PYTHONUNBUFFERED
    value: "1"
  
  # üîë ADD YOUR REAL BYBIT API KEYS HERE (via DigitalOcean dashboard)
  # Go to: Apps ‚Üí Settings ‚Üí Environment Variables
  # - key: BYBIT_API_KEY
  #   value: your_live_bybit_api_key_here
  # - key: BYBIT_API_SECRET  
  #   value: your_live_bybit_api_secret_here
  
  # Optional testnet keys for strategy validation
  # - key: BYBIT_TESTNET_API_KEY
  #   value: your_testnet_key_here
  # - key: BYBIT_TESTNET_API_SECRET
  #   value: your_testnet_secret_here
  
  # üè¶ Optional: Cross-exchange correlation data (READ-ONLY APIs)
  # - key: OKX_API_KEY
  #   value: your_okx_api_key_here
  # - key: OKX_API_SECRET
  #   value: your_okx_secret_here
  # - key: OKX_PASSPHRASE
  #   value: your_okx_passphrase
  # - key: BINANCE_API_KEY
  #   value: your_binance_api_key_here
  # - key: BINANCE_API_SECRET
  #   value: your_binance_secret_here
  
  # üìß Optional: Daily email reports
  # - key: EMAIL_ENABLED
  #   value: "true"
  # - key: EMAIL_HOST
  #   value: smtp.gmail.com
  # - key: EMAIL_PORT
  #   value: "587"
  # - key: EMAIL_USERNAME
  #   value: your_email@gmail.com
  # - key: EMAIL_PASSWORD
  #   value: your_gmail_app_password
  # - key: EMAIL_TO
  #   value: your_reports@gmail.com
  
  # üì∞ PHASE 1 & 2: News sentiment analysis
  # - key: NEWS_API_KEY
  #   value: your_newsapi_org_key
  # - key: NEWSAPI_ENABLED
  #   value: "false"
  # - key: SENTIMENT_UPDATE_INTERVAL
  #   value: "300"
  
  # üè¶ PHASE 1 & 2: Multi-Exchange Integration
  # - key: OKX_ENABLED
  #   value: "false"
  # - key: BINANCE_ENABLED
  #   value: "false"
  # - key: CORRELATION_UPDATE_INTERVAL
  #   value: "60"
  # - key: ARBITRAGE_THRESHOLD
  #   value: "0.5"
  
  # ÔøΩ PHASE 1 & 2: Email Reporting System
  # - key: EMAIL_REPORTS_ENABLED
  #   value: "false"
  # - key: SMTP_SERVER
  #   value: smtp.gmail.com
  # - key: SMTP_PORT
  #   value: "587"
  # - key: SMTP_USERNAME
  #   value: your_email@gmail.com
  # - key: SMTP_PASSWORD
  #   value: your_gmail_app_password
  # - key: FROM_EMAIL
  #   value: your_email@gmail.com
  # - key: TO_EMAIL
  #   value: admin@example.com
  # - key: REPORT_TIME
  #   value: "08:00"
  # - key: REPORT_FREQUENCY
  #   value: "daily"
  
  # üîÆ PHASE 1 & 2: Future market expansion framework
  # - key: ALPHA_VANTAGE_API_KEY
  #   value: your_alpha_vantage_key
  # - key: POLYGON_API_KEY
  #   value: your_polygon_io_key
  # - key: FINNHUB_API_KEY
  #   value: your_finnhub_key
  # - key: STOCKS_ENABLED
  #   value: "false"
  # - key: COMMODITIES_ENABLED
  #   value: "false"
  # - key: FOREX_ENABLED
  #   value: "false"
  
  # Security & Risk Management
  - key: SECRET_KEY
    value: change_this_to_random_32_character_string
  - key: MAX_DAILY_RISK
    value: "0.02"
  - key: MAX_POSITION_SIZE
    value: "0.01" 
  - key: EMERGENCY_STOP_LOSS
    value: "0.05"
  - key: ENABLE_STOP_LOSS
    value: "true"
  - key: DEFAULT_STOP_LOSS
    value: "0.02"
  - key: DEFAULT_TAKE_PROFIT
    value: "0.04"
  
  # Database & Logging  
  - key: DATABASE_URL
    value: sqlite:///data/trading_bot.db
  - key: LOG_LEVEL
    value: INFO